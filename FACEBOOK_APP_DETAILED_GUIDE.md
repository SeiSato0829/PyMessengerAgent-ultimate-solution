# Facebook App ID & Secret 詳細取得ガイド

## 📘 事前準備

### 必要なもの
- Facebookの個人アカウント（通常のアカウント）
- 電話番号またはメールアドレス（本人確認用）
- ビジネス用メールアドレス（推奨）

---

## ステップ1: Facebook開発者アカウントの作成

### 1-1. Facebook Developersにアクセス
1. ブラウザで https://developers.facebook.com を開く
2. 画面右上の「**ログイン**」をクリック
3. Facebookアカウントでログイン

### 1-2. 開発者として登録
初めての場合、以下の画面が表示されます：

1. **「始める」または「Get Started」**をクリック
2. **開発者規約に同意**
   - 「Facebook開発者規約」を読む
   - チェックボックスにチェック
   - 「次へ」をクリック
3. **電話番号認証**
   - 電話番号を入力
   - SMSで届いた6桁のコードを入力
   - 「確認」をクリック

---

## ステップ2: 新しいアプリの作成

### 2-1. マイアプリページへ移動
1. 画面右上のメニューから「**マイアプリ**」をクリック
2. 「**アプリを作成**」ボタンをクリック（緑色のボタン）

### 2-2. アプリタイプの選択
以下のオプションが表示されます：

```
□ コンシューマー
   一般ユーザー向けのアプリ

■ ビジネス（推奨）
   ビジネス統合やメッセージング用

□ ゲーム
   ゲームアプリ用

□ なし
   カスタム設定
```

**「ビジネス」を選択** → 「**次へ**」をクリック

### 2-3. アプリ情報の入力
1. **アプリ表示名**
   - 例：`My Messenger Bot`
   - 例：`Facebook DM System`
   - 例：`Auto Message Sender`

2. **アプリの連絡先メールアドレス**
   - あなたのメールアドレスを入力
   - 通知を受け取るメール

3. **ビジネスアカウント**（オプション）
   - 既存のビジネスマネージャーがあれば選択
   - なければ空欄でOK

4. 「**アプリを作成**」をクリック

### 2-4. セキュリティチェック
- reCAPTCHAが表示される場合があります
- 指示に従って画像を選択

---

## ステップ3: App IDの取得

### 3-1. アプリダッシュボードを確認
アプリ作成後、自動的にダッシュボードに移動します。

### 3-2. App IDの場所

**画面上部を確認：**
```
┌─────────────────────────────────────────────┐
│ My Messenger Bot                           │
│ App ID: 1234567890123456 📋                │
│ ステータス: 開発中                           │
└─────────────────────────────────────────────┘
```

**App ID**は以下の特徴があります：
- **15〜16桁の数字**
- 例：`1234567890123456`
- コピーボタン📋をクリックでコピー可能

---

## ステップ4: App Secretの取得

### 4-1. 設定ページへ移動
1. 左サイドバーから「**設定**」をクリック
2. 「**ベーシック**」を選択

### 4-2. App Secretの表示

画面に以下のような項目が表示されます：

```
アプリID
1234567890123456

アプリシークレット
●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●● [表示]
```

### 4-3. App Secretを表示する
1. 「**表示**」ボタンをクリック
2. **Facebookのパスワード**を入力
   - セキュリティのため、あなたのFacebookパスワードが必要
3. 「**送信**」をクリック

### 4-4. App Secretが表示される
```
アプリシークレット
abcdef1234567890abcdef1234567890 📋
```

**App Secret**の特徴：
- **32文字の英数字**
- 例：`abcdef1234567890abcdef1234567890`
- 大文字・小文字の区別あり
- コピーボタン📋をクリックでコピー

---

## ステップ5: 重要な設定

### 5-1. アプリモードの確認
ダッシュボード上部を確認：

```
ステータス: 開発中 🟡
```

**開発モード**であることを確認（本番モードにする必要はありません）

### 5-2. プラットフォームの設定（オプション）
1. 「設定」→「ベーシック」
2. 画面下部の「**プラットフォームを追加**」
3. 「**ウェブサイト**」を選択
4. サイトURL：`https://pymessengeragent-ultimate-solution.onrender.com`
5. 「**変更を保存**」

---

## ⚠️ よくある間違いと対処法

### 間違い1: App IDとUser IDを混同
- **App ID**：アプリの識別番号（15-16桁）
- **User ID**：あなたのFacebook ID（違うもの）

### 間違い2: Secretを間違えてコピー
- スペースが入らないよう注意
- 全32文字を確実にコピー
- コピーボタンを使用推奨

### 間違い3: 古いバージョンのAPIを使用
- 常に最新のGraph APIバージョンを使用
- 現在は`v18.0`以降を推奨

---

## 🔒 セキュリティ注意事項

### 絶対にやってはいけないこと
1. **App Secretを公開しない**
   - GitHubにコミットしない
   - ブログやSNSに投稿しない
   - スクリーンショットに含めない

2. **他人と共有しない**
   - チームメンバーでも直接共有は避ける
   - 環境変数経由で共有

3. **ブラウザに保存しない**
   - パスワードマネージャーは使用OK
   - ブラウザの自動保存は避ける

---

## 📝 取得した値の例

正しく取得できた場合の例：

```bash
# Render.comに設定する値
FACEBOOK_APP_ID=1234567890123456
FACEBOOK_APP_SECRET=abcdef1234567890abcdef1234567890
```

### チェックリスト
- [ ] App IDは15-16桁の数字か？
- [ ] App Secretは32文字の英数字か？
- [ ] 余分なスペースは入っていないか？
- [ ] コピーは完全か？

---

## 🆘 トラブルシューティング

### Q: 「表示」ボタンがクリックできない
**A:** アカウントの本人確認が必要です
- プロフィール設定を確認
- 電話番号認証を完了

### Q: パスワードを入力してもSecretが表示されない
**A:** 以下を確認：
- Caps Lockがオンになっていないか
- 正しいFacebookパスワードか
- 2段階認証を設定している場合は認証コードも必要

### Q: App IDが見つからない
**A:** 以下の場所を確認：
- ダッシュボード上部
- 設定→ベーシック
- URLにも含まれている：`apps/{APP_ID}/dashboard`

### Q: 作成したアプリが表示されない
**A:** 以下を試す：
- ページをリロード（F5）
- 「マイアプリ」から再度アクセス
- 別のブラウザで試す

---

## 次のステップ

App IDとSecretを取得したら：

1. **Render.comにログイン**
2. **Environmentタブ**を開く
3. 以下を追加：
   ```
   FACEBOOK_APP_ID = (取得した15-16桁の数字)
   FACEBOOK_APP_SECRET = (取得した32文字の英数字)
   ```
4. **Save Changes**をクリック
5. 5分待って動作確認

---

## 📞 サポート

問題が解決しない場合：
- Facebook開発者フォーラム：https://developers.facebook.com/community/
- ドキュメント：https://developers.facebook.com/docs/